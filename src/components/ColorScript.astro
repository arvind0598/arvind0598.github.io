<script is:inline>
  let colors = ["#24d05a", "#eb4888", "#10a2f5", "#e9bc3f"];

  function getRandomColor() {
    return colors[Math.floor(Math.random() * colors.length)];
  }

  function setRandomLinkColors() {
    Array.from(document.getElementsByTagName("a")).forEach((el) => {
      const baseColor = getRandomColor();
      const hoverColor = getRandomColor();

      // Set the base color and hover color
      el.style.color = baseColor;
      el.style.textDecorationColor = baseColor;

      // Store the hover color and text content
      el.dataset.hoverColor = hoverColor;
      el.dataset.text = el.textContent;

      // Add the gradient class
      el.classList.add("gradient-link");
    });
  }

  function updateSingleElementColors(element) {
    const baseColor = getRandomColor();
    const hoverColor = getRandomColor();

    element.style.color = baseColor;
    element.style.textDecorationColor = baseColor;
    element.dataset.hoverColor = hoverColor;
    element.dataset.text = element.textContent;
    element.classList.add("gradient-link");
  }

  function setColorHoverListener() {
    Array.from(document.querySelectorAll("a")).forEach((el) => {
      el.addEventListener("mouseover", () => {
        // Update all other links when hovering over one
        setRandomLinkColors();
        // Update the current element with new colors
        updateSingleElementColors(el);

        // Set the hover color for the pseudo-element
        if (el.dataset.hoverColor) {
          el.style.setProperty("--hover-color", el.dataset.hoverColor);
        }
      });

      el.addEventListener("mouseout", () => {
        // Keep the colors as they are
      });
    });
  }

  // Initialize on page load
  (function () {
    setRandomLinkColors();
    setColorHoverListener();
  })();
</script>
